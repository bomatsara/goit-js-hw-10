{"version":3,"file":"commonHelpers.js","sources":["../src/js/timer/options.js","../src/js/timer/utilities.js","../src/js/timer/actions.js","../src/js/1-timer.js"],"sourcesContent":["export const iziToastOptions = {\n  error: {\n    title: 'Error',\n    message: 'Please choose a date in the future',\n    position: 'topRight',\n    class: 'error',\n    color: 'white',\n    timeout: 3000,\n  },\n};","export function convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day).toString().padStart(2, '0');\n  const hours = Math.floor((ms % day) / hour).toString().padStart(2, '0');\n  const minutes = Math.floor(((ms % day) % hour) / minute).toString().padStart(2, '0');\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second).toString().padStart(2, '0');\n\n  return { days, hours, minutes, seconds };\n}\n\nexport function enableEl(element) {\n  element.disabled = false;\n}\n\nexport function disableEl(element) {\n  element.disabled = true;\n}\n\nexport function dateChecker(selectedDates, currentDate) {\n  const selectedDate = selectedDates[0];\n  const inequalityDates = selectedDate - currentDate;\n\n  return inequalityDates > 0;\n}","import { convertMs } from './utilities.js';\n\nexport function timerAction(selectedDate, timerEl) {\n  const daysEl = timerEl.querySelector('[data-days]');\n  const hoursEl = timerEl.querySelector('[data-hours]');\n  const minutesEl = timerEl.querySelector('[data-minutes]');\n  const secondsEl = timerEl.querySelector('[data-seconds]');\n\n  const interval = window.setInterval(() => {\n    const date = Date.now();\n    const inequalityDates = selectedDate - date;\n\n    if (inequalityDates < 0) {\n      clearInterval(interval);\n      return;\n    }\n\n    const { days, hours, minutes, seconds } = convertMs(inequalityDates);\n\n    daysEl.textContent = days;\n    hoursEl.textContent = hours;\n    minutesEl.textContent = minutes;\n    secondsEl.textContent = seconds;\n  }, 1000);\n}","import flatpickr from 'flatpickr';\nimport iziToast from 'izitoast';\nimport { iziToastOptions } from './timer/options.js';\nimport { enableEl, disableEl, dateChecker } from './timer/utilities.js';\nimport { timerAction } from './timer/actions.js';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport '../css/flatpickr.css';\n\ndocument.addEventListener('DOMContentLoaded', event => {\n  let userSelectedDate = null;\n  let currentDate = null;\n  let datetimePickerEl = null;\n  const btnEl = document.querySelector('#datetime-picker-button');\n  const timerEl = document.querySelector('.timer');\n\n  disableEl(btnEl);\n\n  flatpickr('#datetime-picker', {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      currentDate = Date.now();\n\n      if (!dateChecker(selectedDates, currentDate)) {\n        iziToast.error(iziToastOptions.error);\n      }\n\n      userSelectedDate = selectedDates;\n      datetimePickerEl = this.element;\n      enableEl(btnEl);\n    },\n  });\n\n  btnEl.addEventListener('click', event => {\n    if (!userSelectedDate) return;\n\n    timerAction(userSelectedDate[0], timerEl);\n    disableEl(btnEl);\n    disableEl(datetimePickerEl);\n  });\n});"],"names":["iziToastOptions","convertMs","ms","days","hours","minutes","seconds","enableEl","element","disableEl","dateChecker","selectedDates","currentDate","timerAction","selectedDate","timerEl","daysEl","hoursEl","minutesEl","secondsEl","interval","date","inequalityDates","event","userSelectedDate","datetimePickerEl","btnEl","flatpickr","iziToast"],"mappings":"6HAAO,MAAMA,EAAkB,CAC7B,MAAO,CACL,MAAO,QACP,QAAS,qCACT,SAAU,WACV,MAAO,QACP,MAAO,QACP,QAAS,GACV,CACH,ECTO,SAASC,EAAUC,EAAI,CAM5B,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAAE,WAAW,SAAS,EAAG,GAAG,EACtDE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAAE,SAAQ,EAAG,SAAS,EAAG,GAAG,EAChEG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAAE,SAAU,EAAC,SAAS,EAAG,GAAG,EAC7EI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAAE,SAAQ,EAAG,SAAS,EAAG,GAAG,EAE9F,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEO,SAASC,EAASC,EAAS,CAChCA,EAAQ,SAAW,EACrB,CAEO,SAASC,EAAUD,EAAS,CACjCA,EAAQ,SAAW,EACrB,CAEO,SAASE,EAAYC,EAAeC,EAAa,CAItD,OAHqBD,EAAc,CAAC,EACGC,EAEd,CAC3B,CCzBO,SAASC,EAAYC,EAAcC,EAAS,CACjD,MAAMC,EAASD,EAAQ,cAAc,aAAa,EAC5CE,EAAUF,EAAQ,cAAc,cAAc,EAC9CG,EAAYH,EAAQ,cAAc,gBAAgB,EAClDI,EAAYJ,EAAQ,cAAc,gBAAgB,EAElDK,EAAW,OAAO,YAAY,IAAM,CACxC,MAAMC,EAAO,KAAK,MACZC,EAAkBR,EAAeO,EAEvC,GAAIC,EAAkB,EAAG,CACvB,cAAcF,CAAQ,EACtB,MACD,CAED,KAAM,CAAE,KAAAjB,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYL,EAAUqB,CAAe,EAEnEN,EAAO,YAAcb,EACrBc,EAAQ,YAAcb,EACtBc,EAAU,YAAcb,EACxBc,EAAU,YAAcb,CACzB,EAAE,GAAI,CACT,CCfA,SAAS,iBAAiB,mBAAoBiB,GAAS,CACrD,IAAIC,EAAmB,KACnBZ,EAAc,KACda,EAAmB,KACvB,MAAMC,EAAQ,SAAS,cAAc,yBAAyB,EACxDX,EAAU,SAAS,cAAc,QAAQ,EAE/CN,EAAUiB,CAAK,EAEfC,EAAU,mBAAoB,CAC5B,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQhB,EAAe,CACrBC,EAAc,KAAK,MAEdF,EAAYC,EAAeC,CAAW,GACzCgB,EAAS,MAAM5B,EAAgB,KAAK,EAGtCwB,EAAmBb,EACnBc,EAAmB,KAAK,QACxBlB,EAASmB,CAAK,CACf,CACL,CAAG,EAEDA,EAAM,iBAAiB,QAASH,GAAS,CAClCC,IAELX,EAAYW,EAAiB,CAAC,EAAGT,CAAO,EACxCN,EAAUiB,CAAK,EACfjB,EAAUgB,CAAgB,EAC9B,CAAG,CACH,CAAC"}